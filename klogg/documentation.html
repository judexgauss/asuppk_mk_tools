<h1>Klogg documentation</h1><a id="Klogg-documentation"/><h2>Table of Contents</h2><a id="Table-of-Contents"/><ol><li><a href="#Getting-started">Getting started</a></li><li><a href="#Exploring-log-files">Exploring log files</a></li><li><a href="#Settings">Settings</a></li><li><a href="#Keyboard-commands">Keyboard commands</a></li><li><a href="#Command-line-options">Command line options</a></li></ol><h2>Getting started</h2><a id="Getting-started"/><p><i>klogg</i> can be started from the command line, optionally passing the file to open as an argument, or via the desktop environment's menu or file association. If no file name is passed, <i>klogg</i> will initially open the most recent file. </p><p>The main window is divided into three parts: the top displays the log file. The bottom part, called the "filtered view", displays the results of the search. The line separating the two contains the regular expression used as a filter. </p><p>Entering a new regular expression or a simple search term will update the bottom view, displaying the results of the search. The lines matching the search criteria are listed in order in the results, and are marked with a red circle in both windows. </p><h2>Exploring log files</h2><a id="Exploring-log-files"/><p>Regular expressions are a powerful way to extract the information you want from the log file. <i>klogg</i> uses *extended regular expressions*. </p><p>One of the most useful regexp features when exploring logs is the <i>alternation</i> feature, using parentheses and the | operator. It searches for several alternatives and displays several line types in the filtered window, in the same order they appear in the log file. </p><p>For example, to verify that every connection opened is also closed, one can use an expression similar to: </p><p><code>Entering (Open|Close)Connection</code> </p><p>Any 'open' call without a matching 'close' will immediately stand out in the filtered window. The alternation also works with the whole search line. If you would like to know what kind of connection has been opened: </p><p><code>Entering (Open|Close)Connection|Created a .* connection</code> </p><p><code>.*</code> will match any sequence of characters on a single line, but <i>klogg</i> will only display lines with a space and the word <code>connection</code> somewhere after <code>Created a</code> </p><p>Sometimes alternation using regular expression syntax is cumbersome. For such cases <i>klogg</i> can do logical search pattern combinations using <code>and</code>, <code>or</code>, and <code>not</code> operators. This mode can be enabled using button from search input panel. In this mode all patterns must be enclosed in <code>"</code>. Following logic operations are supported: </p><table><thead><tr><th>Operator        </th><th>Actions                                                                   </th></tr></thead><tbody><tr><td><code>and</code>           </td><td>Logical AND, True only if x and y both match input line. (eg: <code>"x" and "y"</code>)</td></tr><tr><td><code>or</code>            </td><td>Logical OR, True if either x or y match input line. (eg: <code>"x" or "y"</code>)      </td></tr><tr><td><code>&</code>             </td><td>Similar to AND but with left to right expression short circuiting optimization  </td></tr><tr><td>`\</td><td>`             </td><td>Similar to OR but with left to right expression short circuiting optimization   </td></tr><tr><td><code>not</code>           </td><td>Logical NOT, Negate the logical sense of the input. Input must be enclosed in <code>()</code> (eg: <code>not("x")</code>)</td></tr></tbody></table><p><i>klogg</i> keeps track of used search patterns and provides autocomplete for them. This history can be edited or cleared from the search text box context menu. Autocomplete is case-sensitive if this option is selected for matching  regular expressions. The size of autocomplete history is configured in general options. </p><p>In addition to the filtered window, the match overview on the right-hand side of the screen offers a view of the position of matches in the log file. Matches are shown as small red lines. </p><p>In addition to regexp matches, <i>klogg</i> enables its users to mark any interesting line in the log. To do this, click on the round bullet in the left margin in front of the line that needs to be marked. Or, select the line and press the <code>'m'</code> hotkey. To mark several lines at once select them and use the <code>'m'</code> hotkey or context menu. </p><p>By default, filtered view always shows all marked lines. It is possible to switch filtered view mode to show either only the lines matching search pattern or only marked lines. </p><p>Marks also appear as blue lines in the match overview. </p><p>It is possible to quickly jump to a specific line using <code>Ctrl+L</code> shortcut. </p><p><i>klogg</i> uses Hyperscan library to perform regular expressions search. Hyperscan is very fast, but it doesn't support some patterns, most notably any lookahead is not supported  (check <a href="https://intel.github.io/hyperscan/dev-reference/compilation.html#pattern-support">hyperscan documentation</a> for  supported syntax). To overcome this <i>klogg</i> will switch to Qt regular expression engine with full PCRE syntax support if Hyperscan can't handle the search pattern. However, in this case search will be significantly slower. </p><h3>Opening files</h3><a id="Opening-files"/><p><i>klogg</i> provides several options for opening files: </p><ul><li>using dedicated open file item in <code>File</code> menu or toolbar</li><li>dragging files from the file manager</li><li>downloading files from a provided url</li><li>providing one or many files via the command line</li><li>using recent files or favorite menu items.</li></ul><p>On Windows and Mac OS, the *klogg* installer configures the operating system to open <code>.log</code> files by clicking them in the file manager. </p><h4>Archives</h4><a id="Archives"/><p>*klogg* can open archives (<code>zip</code>, <code>7z</code>, and <code>tar</code>). The archive is extracted to a temporary directory and standard open file dialog is presented to select files. The type of archive is determined automatically by file content or extension. </p><p>*klogg* can open compressed files (<code>gzip</code>, <code>bzip2</code>, <code>xz</code>, <code>lzma</code>). Such files are decompressed to a temporary folder and then opened. The compression type is determined automatically by file content or extension. </p><h4>Remote URLs</h4><a id="Remote-URLs"/><p><i>klogg</i> can open files from remote URLs. In that case, <i>klogg</i> will download the file to a temporary directory and open it from there. </p><h4>Recent files</h4><a id="Recent-files"/><p><i>klogg</i> saves a history of recent opened files. Up to 5 recent files are available from the <code>File</code> menu. </p><h4>Favorites</h4><a id="Favorites"/><p>Opened files can be added to the <code>Favorites</code> menu either from <code>Favorites->Add to Favorites</code> or from the toolbar. </p><p>This menu is used to provide fast access to files that are opened less often and don't end up in the recent files section. </p><h4>Clipboard</h4><a id="Clipboard"/><p>Pasting text from the clipboard to <i>klogg</i> also works. In this case, <i>klogg</i> will save pasted text to a temporary file and open that file for exploring. </p><h4>Switching between opened files</h4><a id="Switching-between-opened-files"/><p>Switching from one opened file to another can be done from the <code>View->Opened files</code> menu or by using the <code>Ctrl+Shift+O</code> shortcut  which displays special dialogue to choose between opened files. </p><h3>Encodings</h3><a id="Encodings"/><p><i>klogg</i> tries to guess the encoding of an opened file. If that guess happens to be wrong, then the desired encoding can be selected from the <code>Encoding</code> menu. </p><h3>Predefined filters</h3><a id="Predefined-filters"/><p>If some search patterns are used very often they can be saved as predefined filters. Predefined filters are configured from the <code>Tools</code> menu. </p><p>Predefined filters are added to a dropdown near the search input and allow to  add several patterns to regular expression. Predefined filter has a name which is displayed in the dropdown, a pattern to add to search regular expression and a setting to treat pattern as a regular expression or simple text search. </p><p>It is possible to save the current search pattern as a predefined filter from search input context menu. </p><h3>Using highlighters</h3><a id="Using-highlighters"/><p><i>Highlighters</i> can colorize some lines of the log being displayed to draw attention to lines indicating an error, or to associate a color with a certain type of event.  </p><p>Highlighters are grouped into sets. One set of highlighters can be active at any given time. The current active set can be selected using either the context menu or the <code>Tools->Highlighters</code> menu. </p><p>Any number of highlighters can be defined in a single set. Highlighter configuration includes a regular expression to match as well as color options. Another option is to use plain text patterns in cases when complex regular expression are unnecessary. Highlighters don't have support for logical search pattern combinations. </p><p>Each highlighter can be configured to apply foreground and  background colors either to the whole line that matched its regular expression or only to matching parts of the line. In the latter case, if the regular expression contains capture groups then only the captured parts of the matching line are highlighted. </p><p>It is possible to set a color variance. In that case different strings that match the same regular expression will have slightly different color. </p><p>Any number of highlighters set can be applied to opened file using either  the context menu or the main menu. </p><p>The order of highlighters in the set and the order of sets in configuration is important. For each line all highlighters are tried from bottom to top. Each new matching  highlighter overrides colors for the current line.  </p><p>Highlighter configuration can be exported to a file and  imported on another machine. Each set is identified by unique id. Only new sets are imported from the file. </p><h3>Color labels</h3><a id="Color-labels"/><p>In addition to predefined highlighters sets it is possible to create quick highlight rules from selected text. These are called color labels. By default, <i>klogg</i> has 9 color labels enabled. Adding color label to selected text is done either via context menu or with shortcuts <code>Ctrl+Shift+1-9</code>. Any number of  strings can be marked with a single color label. Also the is <code>Ctrl+D</code> shortcut that applies the next color label to selected text. </p><p>To remove color label from selected text either select the text and use  context menu to set color label to <code>None</code> or use <code>Ctrl+Shift+0</code> shortcut that will remove all color labels. </p><p>The colors that are used for text highlight can be configured from the color labels tab of highlighters configuration dialog. </p><h3>Browsing changing log files</h3><a id="Browsing-changing-log-files"/><p><i>klogg</i> can display and search through logs while they are written to a disk. This might be the case when debugging a running program or server. The log is automatically updated when it grows, but the 'Auto-refresh' option must be enabled if you want the search results to be automatically refreshed. </p><p>The <code>'f'</code> key may be used to follow the end of the file as it grows (a la <code>tail -f</code>). </p><p><i>klogg</i> detects if new lines have been appended to the file or if the file has been overwritten. In the former case, search results will be updated as new matching lines appear in the file. If the file is overwritten, then search results will be cleared.  </p><p><i>klogg</i> has two options to distinguish appends from overwrites. The general and more stable option is to recalculate the hash of the  indexed part of the file and check if it matches current file on disk.  This is reliable but can be slow for large files and for slow file systems (e.g. network shares). The other option is to check hashes for only the  first and last parts of the file. This usually works quickly  but can skip over changes in the middle of the file. You can choose your  preferred option in <code>Settings->File</code> tab. </p><p>The following file mode requires monitoring of the file system for any changes. If native monitoring or polling are both disabled in settings, then the  following file mode is also disabled. </p><h3>Scratchpad</h3><a id="Scratchpad"/><p>Sometimes in log files there are text in base64 encoding, unformatted xml/json, etc. For such cases <i>klogg</i> provides Scratchpad tool. Text can be copied to this window and transformed to human-readable form. Use context menu to either add data to the current scratchpad tab or  replace its content with selected text. There are shortcuts <code>Ctrl+Z</code> and <code>Ctrl+Shit+Z</code> for these actions. </p><p>New tabs can be opened in Scratchpad using the <code>Ctrl+N</code> hotkey. </p><h2>Settings</h2><a id="Settings"/><h3>General</h3><a id="General"/><h4>Search options</h4><a id="Search-options"/><p>Determines which type of regular expression <i>klogg</i> will use when filtering lines for the bottom window, and when using QuickFind. </p><ul><li>  Extended Regexp. The default, uses regular expressions similar to  those used by Perl</li><li>  Fixed Strings. Searches for the text exactly as it is written, no  character is special</li></ul><p>If incremental quickfind is selected, <i>klogg</i> will automatically restart quickfind search when the search pattern changes. </p><p>Turning on highlight of matched text will cause the text that matched the search pattern to be highlighted in both main view and filtered view. Enabling color variation will cause the highlight color of different strings that match the same pattern be slightly different. </p><p>Search size history controls the number of patterns that are saved for autocompletion in the search input box. </p><p>Turning on option to run search on add or replace pattern will cause <i>klogg</i> to immediately perform search when pattern is update from context menu. </p><h4>Session options</h4><a id="Session-options"/><ul><li>  Load last session -- if enabled, <i>klogg</i> will reopen files that were  opened when <i>klogg</i> was closed. View configuration, marked lines and  <code>follow</code> mode settings are restored for each file.</li><li>  Follow file on load -- if enabled, *klogg* will enter <code>follow</code> mode  for for all new opened files.</li><li>  Minimize to tray -- if enabled, <i>klogg</i> will minimize to tray instead  of closing main window. Use tray icon context menu of <code>File->Exit</code>  to exit application. This option is not available on Mac OS.</li><li>  Enable multiple windows -- if enabled <i>klogg</i> will allow opening  more than one main window using <code>File->New window</code>. In this mode last  closed windows will be saved to open session on next <i>klogg</i> start.  When exiting *klogg* using <code>File->Exit</code> all windows are saved and  will be reopened.</li></ul><h4>Version checking options</h4><a id="Version-checking-options"/><p>If version checking is enabled then <i>klogg</i> will try to grab a version information file from the GitHub repository and see if a new version has been released once per week. </p><p>Stable builds will check if a new stable version is available and pop a dialogue about it. Testing builds will check for new testing versions. </p><h3>View</h3><a id="View"/><h4>Font</h4><a id="Font"/><p>The font used to display the log file. A clear, monospace font (like the free, open source, <a href="http://www.dejavu-fonts.org">DejaVu Mono</a> for example, is recommended. </p><p>Font antialiasing can be forced if auto-detected options result in low-quality text rendering. </p><p>Font size can be changed from either main or filtered view using <code>Ctrl+Mouse wheel</code> to zoom in/out. </p><h4>Style</h4><a id="Style"/><p>Qt usually comes with several options for drawing application widgets. By default, <i>klogg</i> uses a style that matches current operating systems. Other styles can be chosen from the dropdown menu. </p><p><i>klogg</i> will try to respect current display manager theme and to use white icons for dark themes.  </p><p>Another option is to select Dark or Windows Dark style. In this case <i>klogg</i> will use a custom dark mode stylesheet.  </p><h4>High DPI</h4><a id="High-DPI"/><p>Options in this group can be used in case <i>klogg</i> window looks  bad on High DPI monitors. Usually, Qt detects the correct settings. However, these options may be useful, especially for non-integer scale factors manual overrides. </p><h4>Miscellaneous</h4><a id="Miscellaneous"/><p>Some log files contain ANSI color codes to be displayed by terminals with color support. These color codes create visual noise, so <i>klogg</i> provides an option to hide them from both main and filtered view. However, enabling this option will cause regular expression search to be slower. </p><h3>File</h3><a id="File"/><h4>File change monitoring</h4><a id="File-change-monitoring"/><p>If file change monitoring is enabled, <i>klogg</i> will use facilities provided by the operating system to reload the file when data is changed on the disk. </p><p>Sometimes this kind of monitoring is unreliable on network shares or directories mounted via sftp. In that case, polling can be enabled to make <i>klogg</i> check for changes. </p><p><i>klogg</i> tries to detect if the file was changed in the already indexed area. This mechanism involves hash recalculation and can be slow for large files and network filesystems. If fast modification detection is enabled <i>klogg</i> will check hash for the first and last parts of changed files. This is faster but can skip over changes in the middle of the file. This feature should be used with caution. </p><p>It is possible to enable follow file mode by scrolling past the end of file. This behavior can be disabled. </p><h4>Encoding</h4><a id="Encoding"/><p><i>klogg</i> tries to detect file encoding automatically. If encoding detection is not required then it is possible to specify the encoding that will be used for all new opened files. </p><h4>Archives</h4><a id="Archives"/><p>If extract archives is selected then <i>klogg</i> will detect if opened file is of one of supported archives type or a single compressed file and will ask user permission to extract archives content to a temporary folder. </p><p>If you do not want <i>klogg</i> to ask for permission, check  "extract archives without confirmation" option. </p><h4>File download</h4><a id="File-download"/><p>By default, <i>klogg</i> will not download files using HTTPS if certificates can't be checked. In some development environments self-signed  certificates are used. In this case, <i>klogg</i> can be instructed to ignore SSL errors. </p><h3>Advanced options</h3><a id="Advanced-options"/><p>These options refer to the customization of performance related settings. </p><p>If parallel search is enabled, <i>klogg</i> will try to use several CPU cores for regular expression matching. This does not work with quickfind. </p><p><i>klogg</i> has several strategies for regular expression search based on file  encoding. By default, it is optimized for files with UTF8 or single-byte encodings. If most of the files are in multi-byte encodings then enabling search optimization for non-latin encodings could improve performance. </p><p>If search results cache is enabled, <i>klogg</i> will store numbers of lines that matched the search pattern in its memory. Repeating searches for the same pattern will not go through all files but will use cached line numbers instead. </p><p>In case there is an issue with <i>klogg</i>, logging can be enabled with a desired level of verbosity. Log files are saved to a temporary directory. A log level of 4 or 5 is usually enough. Enabling logging can slow down  regular expressions search. </p><h2>Crash reporting</h2><a id="Crash-reporting"/><p><i>klogg</i> uses Crashpad crash handler to collect minidump files in case of  unexpected crashes. At startup, <i>klogg</i> checks for new minidumps and asks  the user if these files should be sent to developers. </p><p>Crash report provides information about: </p><ul><li>operating system: name, version, architecture, cpu features, system memory</li><li>Qt version</li><li>modules that were loaded into <i>klogg</i> process: filename, size and hashes for symbols</li><li>stacktraces for all running threads in <i>klogg</i> process</li></ul><p>These minidumps do not include the full content of <i>klogg</i> process memory during the crash. </p><h2>Keyboard commands</h2><a id="Keyboard-commands"/><p><i>klogg</i> keyboard commands try to approximately emulate the default bindings used by the classic Unix utilities <i>vi</i> and <i>less</i>. </p><p>The main commands are: </p><table><thead><tr><th>Keys            </th><th>Actions                                                           </th></tr></thead><tbody><tr><td>arrows          </td><td>scroll one line up/down or one column left/right                  </td></tr><tr><td>\[number\] j/k  </td><td>move the selection 'number' (or one) line down/up                 </td></tr><tr><td>h/l             </td><td>scroll left/right                                                 </td></tr><tr><td>\^ or \$        </td><td>scroll to beginning or end of selected line                       </td></tr><tr><td>\[number\] g    </td><td>jump to the line number given or the first one if no number is    </td></tr><tr><td>                </td><td>entered                                                           </td></tr><tr><td>G               </td><td>jump to the first line of the file (selecting it)                 </td></tr><tr><td>Shift+G         </td><td>jump to the last line of the file (selecting it)                  </td></tr><tr><td>Alt+G           </td><td>show jump to line dialog                                          </td></tr><tr><td>' or "          </td><td>start a quickfind search in the current screen                    </td></tr><tr><td>                </td><td>(forward and backward)                                            </td></tr><tr><td>n or N          </td><td>repeat the previous quickfind search forward/backward             </td></tr><tr><td>\* or .         </td><td>search for the next occurrence of the currently selected text      </td></tr><tr><td>/ or ,          </td><td>search for the previous occurrence of the currently selected text  </td></tr><tr><td>f               </td><td>activate 'follow' mode, which keep the display as the tail of the </td></tr><tr><td>                </td><td>file (like "tail -f")                                             </td></tr><tr><td>m               </td><td>put a mark on current selected line                               </td></tr><tr><td>\[ or \]        </td><td>jump to previous or next marked line                              </td></tr><tr><td>+ or -          </td><td>decrease/increase filtered view size                              </td></tr><tr><td>v               </td><td>switch filtered view visibility mode                               </td></tr><tr><td>                </td><td>(Marks and Matches -&gt; Marks -&gt; Matches)                     </td></tr><tr><td>F5              </td><td>reload current file                                               </td></tr><tr><td>Ctrl+S          </td><td>Set focus to search string edit box                               </td></tr><tr><td>Ctrl+Shift+O    </td><td>Open dialog to switch to another file                             </td></tr></tbody></table><p>All shortucts can be configured from the shortcuts tab in options dialog. </p><h2>Mouse navigation</h2><a id="Mouse-navigation"/><p>Holding <code>Alt</code> while scrolling will scroll horizontally. Holding <code>Shift</code> while scrolling will scroll faster. </p><h2>Command line options</h2><a id="Command-line-options"/><table><thead><tr><th>Switch             </th><th>Actions                                                   </th></tr></thead><tbody><tr><td>-h, --help         </td><td>print help message and exit                               </td></tr><tr><td>-v, --version      </td><td>print version information                                 </td></tr><tr><td>-m,--multi         </td><td>allow multiple instance of klogg to run simultaneously (use together with -s)</td><td>                                    </td></tr><tr><td>-s,--load-session  </td><td>load the previous session (default when no file is passed)</td></tr><tr><td>-n,--new-session   </td><td>do not load the previous session (default when a file is passed) </td></tr><tr><td>-l,--log           </td><td>save the log to a file                                    </td></tr><tr><td>-f,--follow        </td><td>follow initial opened files                               </td></tr><tr><td>-d,--debug         </td><td>output more debug (include multiple times for more verbosity e.g. -dddd) </td></tr></tbody></table>